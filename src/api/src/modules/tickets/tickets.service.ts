import { Injectable } from '@nestjs/common'; import { InjectRepository } from '@nestjs/typeorm'; import { Repository } from 'typeorm'; import { Ticket } from './entities/ticket.entity'; @Injectable() export class TicketsService { constructor(@InjectRepository(Ticket) private ticketRepository: Repository<Ticket>) {} async findAll(): Promise<Ticket[]> { return this.ticketRepository.find(); } async findOne(id: string): Promise<Ticket> { return this.ticketRepository.findOne({ where: { id } }); } async create(data: Partial<Ticket>): Promise<Ticket> { const ticket = this.ticketRepository.create(data); return this.ticketRepository.save(ticket); } async update(id: string, data: Partial<Ticket>): Promise<Ticket> { await this.ticketRepository.update(id, data); return this.findOne(id); } async remove(id: string): Promise<void> { await this.ticketRepository.delete(id); } }
